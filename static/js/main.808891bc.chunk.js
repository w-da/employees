(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{10:function(e,t,o){e.exports={employeesList:"EmployeesList_employeesList__2Q2Ap",employeesList__title:"EmployeesList_employeesList__title__1cIIS",employeesList__list:"EmployeesList_employeesList__list__3piRc"}},11:function(e,t,o){e.exports={employeesBirthdayGroup:"EmployeesBirhtdayGroup_employeesBirthdayGroup__1fD-p",employeesBirthdayGroup__month:"EmployeesBirhtdayGroup_employeesBirthdayGroup__month__oCyBt"}},12:function(e,t,o){e.exports={birthdayList:"BirthdayList_birthdayList__2lQID",birthdayList__title:"BirthdayList_birthdayList__title__11wOJ",birthdayList__list:"BirthdayList_birthdayList__list__rbxNL"}},16:function(e,t,o){e.exports={EmployeeBirthdayInfo:"EmployeeBirthdayInfo_EmployeeBirthdayInfo__EVyiT",EmployeeBirthdayInfo__text:"EmployeeBirthdayInfo_EmployeeBirthdayInfo__text__1i8M8"}},29:function(e,t,o){e.exports={loaderContainer:"Loader_loaderContainer__2g0n-"}},31:function(e,t,o){e.exports={container:"Employees_container__2KHpw"}},39:function(e,t,o){},7:function(e,t,o){e.exports={employeeInfo:"EmployeeInfo_employeeInfo__1Bfak",employeeInfo__name:"EmployeeInfo_employeeInfo__name__EwjSR",active:"EmployeeInfo_active__1PS43",employeeInfo__label:"EmployeeInfo_employeeInfo__label__237f1"}},79:function(e,t,o){},80:function(e,t,o){"use strict";o.r(t);var r=o(0),n=o.n(r),s=o(8),a=o.n(s),i=o(4),l=(o(39),o(5)),c=o(26),p=o(27),m=o(17),y={employees:[],error:null,isLoading:!1},u=Object(l.combineReducers)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMPLOYEES":return{employees:t.payload.employees,error:null,isLoading:!1};case"UPDATE_EMPLOYEE":return{employees:e.employees.map((function(e){return e.id===t.payload.id?Object(m.a)(Object(m.a)({},e),{},{isActive:t.payload.value}):e})),error:null,isLoading:!1};case"LOADING":return{employees:[],error:null,isLoading:!0};case"ERROR":return{employees:[],isLoading:!1,error:t.payload.error};default:return e}}}),_=[p.a],d=Object(c.composeWithDevTools)(l.applyMiddleware.apply(void 0,_)),h=Object(l.createStore)(u,d),j=o(28),f=o.n(j),b=o(29),O=o.n(b),x=o(1);function v(){return Object(x.jsx)("div",{className:O.a.loaderContainer,children:Object(x.jsx)(f.a,{type:"Rings",color:"teal",height:100,width:100})})}var L=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],E=function(e){return{type:"SET_EMPLOYEES",payload:{employees:e}}},N=o(7),I=o.n(N);function g(e){var t=e.employee,o=Object(i.b)();function r(e){var r="true"===e.target.value;o(function(e,t){return{type:"UPDATE_EMPLOYEE",payload:{id:e,value:t}}}(t.id,r))}return Object(x.jsxs)("li",{className:I.a.employeeInfo,children:[Object(x.jsxs)("p",{className:"".concat(I.a.employeeInfo__name," ").concat(t.isActive?I.a.active:""),children:[t.lastName," ",t.firstName]}),Object(x.jsxs)("form",{children:[Object(x.jsx)("input",{type:"radio",id:"".concat(t.id,"False"),name:t.id,value:"false",defaultChecked:!t.isActive,onChange:r}),Object(x.jsxs)("label",{htmlFor:"".concat(t.id,"False"),className:I.a.employeeInfo__label,children:[" ","Not active"]}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"radio",id:"".concat(t.id,"True"),name:t.id,value:"true",defaultChecked:!!t.isActive,onChange:r}),Object(x.jsxs)("label",{htmlFor:"".concat(t.id,"True"),className:I.a.employeeInfo__label,children:[" ","Active"]})]})]})}var B=o(9),G=o.n(B);function M(e){var t=e.letter,o=e.employeesList,r=void 0===o?[]:o;return Object(x.jsxs)("li",{className:G.a.employeeGroup,children:[Object(x.jsx)("h3",{className:G.a.employeeGroup__letter,children:t.toUpperCase()}),!r.length&&Object(x.jsx)("p",{children:"----"}),0!==r.length&&Object(x.jsx)("ul",{className:G.a.employeeGroup__list,children:r.map((function(e){return Object(x.jsx)(g,{employee:e},e.id)}))})]})}var S=o(10),A=o.n(S);function C(e){var t=e.employees;return Object(x.jsxs)("section",{className:A.a.employeesList,children:[Object(x.jsx)("h2",{className:A.a.employeesList__title,children:"Employees"}),Object(x.jsx)("ul",{className:A.a.employeesList__list,children:L.map((function(e){return Object(x.jsx)(M,{letter:e,employeesList:t[e]},e)}))})]})}var R=o(6),w=o.n(R);var k=function(e){return e.employees.employees},D=function(e){return e.employees.isLoading},T=function(e){return e.employees.error},Y=o(30),J=o.n(Y);function P(e){return 0===Object.keys(e).length}var F=o(16),U=o.n(F);function Q(e){var t=e.employee;return Object(x.jsx)("li",{className:U.a.EmployeeBirthdayInfo,children:Object(x.jsxs)("p",{className:U.a.EmployeeBirthdayInfo__text,children:[t.lastName," ",t.firstName," -"," ",w()(t.dob).format("D MMMM, YYYY")," year"]})})}var q=o(11),z=o.n(q);function H(e){var t=e.month,o=e.employeesList;return o?Object(x.jsxs)("li",{className:z.a.employeesBirthdayGroup,children:[Object(x.jsx)("h3",{className:z.a.employeesBirthdayGroup__month,children:t}),0!==o.length&&Object(x.jsx)("ul",{className:z.a.employeesBirthdayGroup__list,children:o.map((function(e){return Object(x.jsx)(Q,{employee:e},e.id)}))})]}):null}var K=o(12),V=o.n(K);function W(e){var t=e.employees,o=function(){for(var e=[],t=w()().month(),o=w()(),r=t;r<t+12;r++)e.push(o.month(r).format("MMMM"));return e}(),r=function(e){return e.reduce((function(e,t){if(t.isActive){var o=w()(t.dob).format("MMMM");e[o]?e[o].push(t):e[o]=[t]}return e}),{})}(t);return Object(x.jsxs)("section",{className:V.a.birthdayList,children:[Object(x.jsx)("h2",{className:V.a.birthdayList__title,children:"Employees Birthday"}),P(r)&&Object(x.jsx)("h3",{children:"Employees List is empty"}),!P(r)&&Object(x.jsx)("ul",{className:V.a.birthdayList__list,children:o.map((function(e){return Object(x.jsx)(H,{month:e,employeesList:null===r||void 0===r?void 0:r[e]},e)}))})]})}var X=o(31),Z=o.n(X);function $(){var e=Object(i.c)(k),t=Object(i.c)(D),o=Object(i.c)(T),n=Object(i.b)();if(Object(r.useEffect)((function(){var e=localStorage.getItem("employees");e&&0!==JSON.parse(e).length||n((function(e){e({type:"LOADING"}),J.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(t){var o=t.data.map((function(e){return e.isActive=!1,e})).sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));e(E(o))})).catch((function(t){return e(function(e){return{type:"ERROR",payload:{error:e}}}(t.message))}))})),e&&n(E(JSON.parse(e)))}),[n]),Object(r.useEffect)((function(){localStorage.setItem("employees",JSON.stringify(e))}),[e]),o)return Object(x.jsx)("h2",{children:o});if(t||0===e.length)return Object(x.jsx)(v,{});var s=function(e){return e.reduce((function(e,t){var o=t.lastName[0].toLowerCase();return e[o]?e[o].push(t):e[o]=[t],e}),{})}(e);return Object(x.jsxs)("main",{className:Z.a.container,children:[Object(x.jsx)(C,{employees:s}),Object(x.jsx)(W,{employees:e})]})}o(78),o(79);var ee=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)($,{})})};a.a.render(Object(x.jsx)(i.a,{store:h,children:Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(ee,{})})}),document.getElementById("root"))},9:function(e,t,o){e.exports={employeeGroup:"EmployeesLetterGroup_employeeGroup__J1a4j",employeeGroup__letter:"EmployeesLetterGroup_employeeGroup__letter__LRtmU"}}},[[80,1,2]]]);
//# sourceMappingURL=main.808891bc.chunk.js.map